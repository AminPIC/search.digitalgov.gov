<!DOCTYPE html>
<html lang="en">
<head>
  <meta name=viewport content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  
  <title>Search.gov Blog</title>
  <meta name="description" content="">
  <meta name="author" content="">
  <link href="https://fonts.googleapis.com/css?family=Maven+Pro:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Merriweather:400,700" media="screen" rel="stylesheet" type="text/css" />
  <link href="/bootstrap/css/bootstrap.css" rel="stylesheet">
  <link rel="stylesheet" href="/stylesheets/font-awesome.min.css">
  <!--[if IE 7]>
  <link rel="stylesheet" href="/stylesheets/font-awesome-ie7.min.css">
  <![endif]-->

  <!--<link href="../assets/css/bootstrap-responsive.css" rel="stylesheet">-->
  <link href="/stylesheets/custom.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
  <script src="/javascripts/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <!--  <link rel="apple-touch-icon-precomposed" sizes="144x144"
          href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114"
          href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72"
          href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
  <link rel="shortcut icon" href="https://d3qcdigd1fhos0.cloudfront.net/blog/img/favicon.ico">
  <link rel='alternate' type='application/atom+xml' title='usasearch.howto.gov Atom feed' href='/all.atom' />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="/javascripts/bootstrap3-typeahead.js"></script>
</head>

<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <a class="navbar-brand" href="/">
        <span class="search">Search.gov</span>
      </a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

      <form class="navbar-form navbar-left form-search" accept-charset="UTF-8" action="https://find.search.gov/search/" id="search-form" method="get">
        <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
        <input name="affiliate" id="affiliate" type="hidden" value="usasearch">
        <div class="input-group input-append">
          <label for="search-query" class="hide">Query</label>

          <input name="query" autocomplete="off"  type="text" class="typeahead form-control search-query" id="search-query" data-provide="typeahead" >
          <span class="input-group-btn">
            <button type="submit" class="btn btn-nav" aria-label="Left Align" id="search-button">
              <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
            </button>
          </span>
        </div>
      </form>
      <div class="nav navbar-right">
          <a href="https://search.usa.gov/sites" class="navbar-brand"><i
              class="icon-user icon-white"></i>&nbsp;Login</a>
      </div>&nbsp;&nbsp;&nbsp;<div class="nav navbar-right">
          <a href="http://search.usa.gov/signup" class="navbar-brand">Sign up</a>
      </div>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>


<div class="col-md-offset-2 col-md-8  hidden-sm hidden-md hidden-lg">

  <form class="form-search" accept-charset="UTF-8" action="https://find.search.gov/search/" id="search-form" method="get">
    <input name="affiliate" id="affiliate" type="hidden" value="usasearch">
    <div class="input-group input-append">
      <label for="search-query" class="hide">Query</label>

      <input name="query" autocomplete="off"  type="text" class=" form-control search-query" id="search-query"  >
      <span class="input-group-btn">
        <button type="submit" class="btn btn-primary" aria-label="Left Align" id="search-button">
          <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        </button>
      </span>
    </div>
  </form>
</div>


<div class="container-fluid">
  <div class="col-md-8 col-md-offset-2">
    <!-- do not remove as used to parse in usasearch -->
    <main id="main-container">
      <!-- begin /blog/index.md content -->
<div class="articles">

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/releases/april-2018.html"&gt;April 2018 Release Notes&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;h2 id="highlights"&gt;Highlights&lt;/h2&gt;
</code></pre>
    <ul>
  <li>We’re making good progress towards our indexing system, but all our work in April was in the back end of our system. See below for more information.</li>
</ul>

    <h2 id="chores">Chores</h2>
    <ul>
  <li>We have updated the jQuery version.</li>
  <li>We configured our analytics alerts to send emails via SES instead of Mandrill.</li>
  <li>We upgraded Ruby to version 2.3.7.</li>
  <li>We computed filename extensions for documents in our primary index.</li>
  <li>We improved how we handle email bounces for our notifications, and complaints that may come in.</li>
</ul>

    <h2 id="bug-fixes">Bug Fixes</h2>
    <ul>
  <li>We fixed and error with our S3 backups for Logstash.</li>
</ul>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/release-notes"&gt;&lt;span class="label label-info"&gt;release-notes&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  &lt;/br&gt;&lt;span&gt;Page last reviewed or updated:&lt;/span&gt;
  
  
  
  &lt;a href="/releases/april-2018.html"&gt;
    &lt;time datetime="2018-05-15"&gt;May 15, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/feedback/feedback.html"&gt;Feature Requests&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;p&gt;Customer-driven development is important to us, and we want your feedback! We are an agile service that is always &lt;a href="/tagged/release-notes/"&gt;releasing&lt;/a&gt; new features, fixing bugs, and making improvements to our system. What would you like us to work on next?&lt;/p&gt;
</code></pre>

    <p>You can also <a href="#requests">check out previously submitted ideas below.</a></p>

    <embed src="https://docs.google.com/forms/d/e/1FAIpQLSemE9w893BahVqCbDl8vlgsawGPdcXigwovOZIqIQAIMRyOWw/viewform?embedded=true" width="700" height="900" style="display:block; margin: 0 auto;" scrolling="no" />

    <p><br />
If you’re unable to use or view the submission form, <a href="mailto:search@support.digitalgov.gov">email us</a> and we’ll add your feedback to the list below.</p>

    <h2 id="in-progress">In Progress</h2>

    <h3 id="were-currently-working-on-these-feature-requests"><em>We’re currently working on these feature requests</em></h3>

    <ul>
  <li>The search team is currently focused on our <a href="/blog/searchgov-blog.html">FY18 indexing project</a>. Follow our progress by reviewing our monthly <a href="/tagged/release-notes/">Release Notes</a>.</li>
</ul>

    <h2 id="planned">Planned</h2>

    <h3 id="weve-put-these-features-on-our-upcoming-dev-schedule"><em>We’ve put these features on our upcoming dev schedule</em></h3>

    <ul>
  <li>The search team is currently focused on our <a href="/blog/searchgov-blog.html">FY18 indexing project</a>. Follow our progress by reviewing our monthly <a href="/tagged/release-notes/">Release Notes</a>.</li>
</ul>

    <h2 id="reviewed">Reviewed</h2>

    <h3 id="weve-received-your-feedback-and-have-it-on-our-radar"><em>We’ve received your feedback and have it on our radar</em></h3>

    <h3 id="administration">Administration</h3>

    <ul>
  <li><strong>Multiple user types</strong>
    <ul>
      <li>It would be nice to have different levels of account access for users - admin, editorial control (like best bets), report viewer, etc. It would be nice to give some people access to metrics, but not let them make any changes. I can also see the need for some people to make changes to best bets, but not change things like the look and feel.</li>
    </ul>
  </li>
</ul>

    <h3 id="analytics">Analytics</h3>

    <ul>
  <li><strong>Analytics visualization push/publishing</strong>
    <ul>
      <li>Allow customers to push or otherwise publish a visualization of their search data.</li>
    </ul>
  </li>
  <li><strong>Downloadable reports in each analytics section (queries, clicks, referrers)</strong>
    <ul>
      <li>This idea came from a user who liked the weekly query reports found at the bottom of the monthly reports section, but could not use them because her team uses a different start/end date to a week. Downloadable reports in each section would solve this issue.</li>
    </ul>
  </li>
  <li><strong>Historical drill down metrics</strong>
    <ul>
      <li>Please show drill down metrics for more than the current month. I’d like to be able to see changes from month to month.</li>
    </ul>
  </li>
  <li><strong>Search terms report emailed in middle of day</strong>
    <ul>
      <li>I receive the Daily Snapshot by email, which is a nice service. I was thinking, it could also be handy to have a mid-day report generated, too. For example, yesterday was Columbus Day. My employer was open for business as usual. The DigitalGov Search report indicates that “columbus day” was a top search term, and the holiday information pages were top requests. Had I known at noon that people had searched for “columbus day” in the morning, then I could have posted in the afternoon on social media information about Columbus Day hours and such. A midday search report could help us be more proactive in assisting our website visitors and the population at large.</li>
    </ul>
  </li>
  <li><strong>Separate columns for numbered lists on analytics reports</strong>
    <ul>
      <li>On the Queries report (and any other numbered list) screen, please remove the numbers from the cell containing the value. Instead, include in a first, separate column. The only way for us to export data currently is to manually copy / paste into Excel. To do any additional analysis, we need to remove the numbers.</li>
    </ul>
  </li>
  <li><strong>Sortable columns on the Queries page</strong>
    <ul>
      <li>
        <p>Add sortable columns to the Queries page so you can change the sort order by any of the four columns.</p>
      </li>
      <li>
        <p><em>Search team note: if we implement this feature, we’d also implement the change in the Queries and Referrers sections.</em></p>
      </li>
    </ul>
  </li>
</ul>

    <h3 id="content">Content</h3>

    <ul>
  <li><strong>Add ability to use domain url as a variable or token</strong>
    <ul>
      <li>Using this approach, a modification to the domain url can be changed in one field instead of having to change it throughout every setting in the site config.</li>
    </ul>
  </li>
  <li><strong>Allow sites to hide the filters bar</strong>
    <ul>
      <li>I would like to remove the menu bar with the Everything (All Time and Best Match drop downs) filter.</li>
      <li><em>Search team note: the filter feature only appears when results are being served from our indexes</em></li>
    </ul>
  </li>
  <li><strong>Allow a user to query (GET) a document ID via API</strong>
    <ul>
      <li>Allow a user to query (GET) a document ID in the DigitalGov Search ID, so they can see if it already exists and what current values are for its fields. Currently, the contents the of documents are not transparent, not returned even in the response of a successful POST/PUT, so there is no way to verify that inputs were formatted and saved correctly. This makes it difficult to debug an issue that doesn’t cause an API error response (like putting a value in the wrong field, but still submitting a valid JSON document).</li>
    </ul>
  </li>
  <li><strong>Batch Upload of Routed Query data</strong>
    <ul>
      <li>Bulk upload of Routed Query data similar to the Text Best Bets</li>
    </ul>
  </li>
  <li><strong>Collection with file types filtered</strong>
    <ul>
      <li>I would like to create a collection where I can also specify what file types will show up - PDF, html, doc, etc.</li>
    </ul>
  </li>
  <li><strong>Display more job listings</strong>
    <ul>
      <li>Let sites show more jobs search results</li>
    </ul>
  </li>
  <li>
    <p><strong>Display video results in a grid</strong></p>
  </li>
  <li><strong>Download current Best Bets</strong>
    <ul>
      <li>I would like to be able to download or print in a friendly format the Best Bets list. Our staff contributes to the recommended links. I have a master Excel sheet, but I’d like to be able to grab a version of everything that is logged in. The current format does not print well.</li>
    </ul>
  </li>
  <li>
    <p><strong>Graphics Best Bets image should be clickable</strong></p>
  </li>
  <li><strong>Graphics Best Bets should have an optional description</strong>
    <ul>
      <li>Allow Graphics Best Bets to have an optional description. Our site doesn’t have a central page for a certain topic, so  search becomes the central place for that topic. I also think it would be a value add to have a description field because then users can skip going to an extra page if they find what they need right on the search page.</li>
    </ul>
  </li>
  <li><strong>Integrate the USA.gov directory information for each agency into search results</strong>
    <ul>
      <li>I think it would be beneficial to people who search for an agency name to get the corresponding directory record information from USA.gov. There is a directory API available.</li>
    </ul>
  </li>
  <li><strong>Logo file types</strong>
    <ul>
      <li>Add SVG as an allowable logo file type.</li>
    </ul>
  </li>
  <li><strong>Search Page Alert improvements</strong>
    <ul>
      <li>Allow links to be added to the Search Page Alert.</li>
    </ul>
  </li>
  <li><strong>Tweets tab</strong>
    <ul>
      <li>Could there be a separate tab/link (like Images) for Twitter that would show all Twitter feeds by order of tweet?</li>
    </ul>
  </li>
  <li><strong>Type-ahead suggestions can be added in Admin Center</strong>
    <ul>
      <li>I heard that it’s possible to add typeahead suggestions manually in the back end. Can we do this through the Admin Center?</li>
      <li><em>Search team note: Currently, your agency can email us if there are typeahead suggestions you’d like to appear for your search configuration.</em></li>
    </ul>
  </li>
</ul>

    <h2 id="completed">Completed</h2>

    <h3 id="thanks-for-your-feedback-this-featureupdate-is-now-live"><em>Thanks for your feedback! This feature/update is now live</em></h3>
    <ul>
  <li><a href="manual/analytics-alerts.html">Alert me</a> if a term has been searched more than X number of times and is not showing results and/or has a low click through rate.</li>
  <li><a href="/manual/best-bets.html">Best Bets</a> display on keywords only</li>
  <li>Change the page title for the login screen to DigitalGov Search Login</li>
  <li>Discover RSS feeds from a dedicated <a href="/manual/rss.html">RSS feeds list page</a></li>
  <li><a href="/manual/monthly-reports.html">Monthly Reports</a> data: list Top Queries with No Results and Top Queries with Low Click Thrus for the entire month</li>
  <li>Monthly Reports download: Add # of clicks and CTR columns to the CSV files that you download from the Monthly Reports page.</li>
  <li><a href="/manual/system-alert.html">Search Page Alert</a> title and color can be changed.</li>
  <li>Update <a href="/manual/index.html">help documentation</a>
    <ul>
      <li><em>Search team note: we are always updating our help documentation! Please send feedback at any time.</em></li>
    </ul>
  </li>
</ul>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/feedback"&gt;&lt;span class="label label-info"&gt;feedback&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  
  
  &lt;a href="/feedback/feedback.html"&gt;
    &lt;time datetime="2018-05-03"&gt;May 3, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/releases/march-2018.html"&gt;March 2018 Release Notes&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;h2 id="highlights"&gt;Highlights&lt;/h2&gt;
</code></pre>
    <ul>
  <li>We added a manual page about <a href="https://search.gov/blog/sitemaps.html">xml sitemaps</a> to our Search.gov help manual.</li>
  <li>We created a <a href="https://search.gov/blog/robotstxt.html">robots.txt files</a> manual page.</li>
</ul>

    <h2 id="chores">Chores</h2>
    <ul>
  <li>We have updated how we create and update the search.gov sitemap.</li>
  <li>We transitioned our i14y repo to CircleCI.</li>
  <li>We increased storage volumes used by Elasticsearch 5.6.4.</li>
  <li>We open-sourced the usasearch application, which is now known as <a href="https://github.com/GSA/search-gov">search-gov</a>.</li>
  <li>We are now sending our email notifications via AWS Simple Email Service (SES).</li>
  <li>We setup a metrics dashboard for SES emails.</li>
</ul>

    <h2 id="bug-fixes">Bug Fixes</h2>
    <ul>
  <li>We removed all Rspec/VCR dependencies on actual private keys.</li>
  <li>We removed the link to Search.gov website from the “Powered by Search.gov” logo that appears at the bottom of our hosted SERPs.</li>
</ul>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/release-notes"&gt;&lt;span class="label label-info"&gt;release-notes&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  &lt;/br&gt;&lt;span&gt;Page last reviewed or updated:&lt;/span&gt;
  
  
  
  &lt;a href="/releases/march-2018.html"&gt;
    &lt;time datetime="2018-04-24"&gt;April 24, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/blog/redesign.html"&gt;Checklist for a Successful Website Redesign&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;p&gt;We often receive questions when an agency conducts a major website upgrade, changes content management systems, or both. We created this checklist that will help ensure your redesign is successful.&lt;/p&gt;
</code></pre>

    <h2 id="reindexing">Reindexing</h2>

    <ol>
  <li>Keep the file name and directory structure the same, if possible. If it isn’t possible, use 301 redirects to send visitors to the appropriate new pages. For more on 301 redirects, read tips from <a href="http://blogs.bing.com/webmaster/2011/10/06/managing-redirects-301s-302s-and-canonicals/">Bing</a> <i class="icon-external-link"><span>(External link)</span></i> and <a href="https://support.google.com/webmasters/answer/93633">Google</a> <i class="icon-external-link"><span>(External link)</span></i>. Notify other websites that link to you of the changes.</li>
  <li>Register for the commercial search engines’ webmaster tools.
    <ul>
      <li><a href="http://www.bing.com/toolbox/webmaster">Bing Webmaster Tools</a> <i class="icon-external-link"><span>(External link)</span></i></li>
      <li><a href="https://www.google.com/webmasters/tools/home?hl=en">Google Webmaster Tools</a> <i class="icon-external-link"><span>(External link)</span></i> (now called Google Search Console)</li>
    </ul>
  </li>
  <li>Update the <a href="/blog/sitemaps.html">XML sitemap</a> on your website and notify the search engines via webmaster tools.</li>
  <li>Notify the search engines of content that has been removed via the webmaster tools. Specifically, in Bing, use the <a href="https://www.bing.com/webmaster/help/how-to-use-the-site-move-tool-bb8f5112">Site Move tool</a> <i class="icon-external-link"><span>(External link)</span></i>.</li>
</ol>

    <h2 id="search-setup">Search Setup</h2>
    <ol>
  <li>Within the <a href="https://search.usa.gov/sites/">Search Admin Center</a>:
    <ul>
      <li>Update the paths for your <a href="/manual/domains.html">Domains</a> and <a href="/manual/collections.html">Collections</a>, if needed.</li>
      <li>Upload a <a href="/manual/brand.html">new logo and update your colors</a>, if needed.</li>
      <li>Create <a href="/manual/best-bets.html">Best Bets</a> for any important pages that Bing and Google are slow to re-index.</li>
      <li>Add a <a href="/manual/system-alert.html">Search Page Alert</a> to let people know about your redesign and its impact on search.</li>
    </ul>
  </li>
  <li>If you are transitioning your website to HTTPS, we have an additional <a href="/manual/https-transition.html">Preparing Your Site for HTTPS</a> checklist.</li>
</ol>

    <p>If you’ve undergone a redesign, followed these steps, and your site search results are not what you’d expect, <a href="mailto:search@support.digitalgov.gov">send us an email</a>.</p>

    <hr />

    <p><strong><em>Additional Resource:</em></strong></p>

    <ul>
  <li><em><a href="http://googlewebmastercentral.blogspot.com/2012/04/how-to-move-your-content-to-new.html">How to move your content to a new location</a></em> <i class="icon-external-link"><span>(External link)</span></i>, Google Webmaster Central Blog</li>
</ul>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/seo"&gt;&lt;span class="label label-info"&gt;seo&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  
  
  &lt;a href="/blog/redesign.html"&gt;
    &lt;time datetime="2018-04-12"&gt;April 12, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/developer/indexing-api.html"&gt;i14y Content Indexing API Documentation&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;p&gt;&lt;a href="/index.html"&gt;Search.gov Home&lt;/a&gt; &amp;gt; &lt;a href="/developer/index.html"&gt;APIs for Developers&lt;/a&gt; &amp;gt; i14y API&lt;/p&gt;
</code></pre>

    <blockquote>
      <p><strong>Important Note:</strong> April, 2018. i14y does not visit your content to do full-text scraping of your content. For new implementations, the Search.gov team recommends you index your content with us not using the i14y API, but rather by publishing a comprehensive xml sitemap, which we can use to index your content. <a href="/blog/six-months-in.html">Read more.</a></p>
    </blockquote>

    <p><a href="https://github.com/GSA/i14y">i14y Github repo</a> <i class="icon-external-link"><span>(External link)</span></i></p>

    <h2 id="what-is-i14y">What is i14y?</h2>

    <p>The Search.gov i14y Content Indexing API allows you to send content directly from your content management system (CMS) into Search.gov for real-time indexing. By hooking into your CMS workflow, you can immediately create, update, and delete the associated documents in our search indexes via this API. Even if you don’t have a CMS, you can develop software to publish your content in a way that meets the i14y API specifications below.</p>

    <p>Ruby/Python/Node clients are welcome.</p>

    <h2 id="before-you-begin">Before you Begin</h2>

    <ol>
  <li>Set-up a search site with our service via 
<a href="https://search.gov">Search.gov</a></li>
  <li>Request that your search site be enabled for i14y by <a href="mailto:search@support.digitalgov.gov">emailing our team</a>.</li>
  <li>Set up an i14y “drawer” in our system. <a href="https://search.gov/manual/i14y-drawers.html">Full instructions</a> are available in our help manual. You’ll give your drawer a handle, and you’ll need to enter this drawer handle in the username field below after you click the Authorize button.</li>
  <li>Get your i14y secret token. You’ll need to enter this token as your password.
The token can be found in our system in: <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Manage Content &gt; i14y Drawers, select the option Show.</li>
</ol>

    <p><em>Note:</em> If you are a developer who doesn’t have access to our site configurations, please <a href="mailto:search@support.digitalgov.gov">email us</a>.</p>

    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position:absolute;width:0;height:0">
  <defs>
    <symbol viewBox="0 0 20 20" id="unlocked">
          <path d="M15.8 8H14V5.6C14 2.703 12.665 1 10 1 7.334 1 6 2.703 6 5.6V6h2v-.801C8 3.754 8.797 3 10 3c1.203 0 2 .754 2 2.199V8H4c-.553 0-1 .646-1 1.199V17c0 .549.428 1.139.951 1.307l1.197.387C5.672 18.861 6.55 19 7.1 19h5.8c.549 0 1.428-.139 1.951-.307l1.196-.387c.524-.167.953-.757.953-1.306V9.199C17 8.646 16.352 8 15.8 8z"></path>
    </symbol>

    <symbol viewBox="0 0 20 20" id="locked">
      <path d="M15.8 8H14V5.6C14 2.703 12.665 1 10 1 7.334 1 6 2.703 6 5.6V8H4c-.553 0-1 .646-1 1.199V17c0 .549.428 1.139.951 1.307l1.197.387C5.672 18.861 6.55 19 7.1 19h5.8c.549 0 1.428-.139 1.951-.307l1.196-.387c.524-.167.953-.757.953-1.306V9.199C17 8.646 16.352 8 15.8 8zM12 8H8V5.199C8 3.754 8.797 3 10 3c1.203 0 2 .754 2 2.199V8z" />
    </symbol>

    <symbol viewBox="0 0 20 20" id="close">
      <path d="M14.348 14.849c-.469.469-1.229.469-1.697 0L10 11.819l-2.651 3.029c-.469.469-1.229.469-1.697 0-.469-.469-.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-.469-.469-.469-1.228 0-1.697.469-.469 1.228-.469 1.697 0L10 8.183l2.651-3.031c.469-.469 1.228-.469 1.697 0 .469.469.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c.469.469.469 1.229 0 1.698z" />
    </symbol>

    <symbol viewBox="0 0 20 20" id="large-arrow">
      <path d="M13.25 10L6.109 2.58c-.268-.27-.268-.707 0-.979.268-.27.701-.27.969 0l7.83 7.908c.268.271.268.709 0 .979l-7.83 7.908c-.268.271-.701.27-.969 0-.268-.269-.268-.707 0-.979L13.25 10z" />
    </symbol>

    <symbol viewBox="0 0 20 20" id="large-arrow-down">
      <path d="M17.418 6.109c.272-.268.709-.268.979 0s.271.701 0 .969l-7.908 7.83c-.27.268-.707.268-.979 0l-7.908-7.83c-.27-.268-.27-.701 0-.969.271-.268.709-.268.979 0L10 13.25l7.418-7.141z" />
    </symbol>


    <symbol viewBox="0 0 24 24" id="jump-to">
      <path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z" />
    </symbol>

    <symbol viewBox="0 0 24 24" id="expand">
      <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" />
    </symbol>

  </defs>
</svg>

    <link rel="stylesheet" type="text/css" href="/files/swagger-ui.css" />

    <div id="swagger-ui"></div>

    <script src="/files/swagger-ui-bundle.js"> </script>

    <script src="/files/swagger-ui-standalone-preset.js"> </script>

    <script>
window.onload = function() {
  
  // Build a system
  const ui = SwaggerUIBundle({
    url: "https://search.gov/files/i14y_swagger.json",
    dom_id: '#swagger-ui',
    deepLinking: true,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    layout: "StandaloneLayout"
  })

  window.ui = ui
}
</script>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/i14y"&gt;&lt;span class="label label-info"&gt;i14y&lt;/span&gt;&lt;/a&gt;
  
  &lt;a href="/tagged/api"&gt;&lt;span class="label label-info"&gt;api&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  
  
  &lt;a href="/developer/indexing-api.html"&gt;
    &lt;time datetime="2018-04-12"&gt;April 12, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/developer/i14y.html"&gt;Getting Started with i14y&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;p&gt;&lt;a href="/index.html"&gt;Search.gov Home&lt;/a&gt; &amp;gt; &lt;a href="/developer/index.html"&gt;APIs for Developers&lt;/a&gt; &amp;gt; i14y API&lt;/p&gt;
</code></pre>

    <blockquote>
      <p><strong>Important Note:</strong> April, 2018 - For new implementations, the Search.gov team recommends you index your content with us not using the i14y API, but rather by publishing a comprehensive xml sitemap, which we can use to index your content. <a href="/blog/six-months-in.html">Read more.</a></p>
    </blockquote>

    <p><a href="https://github.com/GSA/i14y">i14y Github repo</a> <i class="icon-external-link"><span>(External link)</span></i></p>

    <p><a href="/developer/indexing-api.html">Technical Documentation</a></p>

    <h2 id="what-is-i14y">What is i14y?</h2>

    <p>i14y is a content indexing API that allows you to send your content directly to our indexes. When your site is enabled for i14y, it gives you complete control over what searchers see. No commercial web results will be served: instead, searchers will see content exactly as you’ve sent it to us.</p>

    <h2 id="how-do-i-use-i14y">How Do I Use i14y?</h2>

    <p>We currently have a <a href="http://www.drupal.org/project/usasearch">Drupal module</a> <i class="icon-external-link"><span>(External link)</span></i> that will hook your CMS into i14y. You can also check out our <a href="/manual/drupal.html">help docs for working with the Drupal module</a>.</p>

    <p>If you use a different CMS, or don’t have one at all, we recommend you focus on publishing a comprehensive <a href="/blog/sitemaps.html">xml sitemap</a>, which we would leverage to index your content.</p>

    <p><strong>Important Note:</strong> i14y does not visit your content to do full-text scraping of your content. For new implementations, the Search.gov team recommends you index your content with us not using the i14y API, but rather by publishing a comprehensive xml sitemap, which we can use to index your content. <a href="/blog/six-months-in.html">Read more.</a></p>

    <h2 id="checklist-to-go-live-with-i14y">Checklist to Go Live with i14y</h2>

    <h3 id="step-1-connect-one-of-your-sites-to-i14y">Step 1. Connect one of your sites to i14y</h3>

    <p>i14y needs to be enabled in the back end for a site to be able to receive content through it. You can</p>

    <ul>
  <li><a href="/manual/add-site.html">Add a brand new search site</a>,</li>
  <li>Use the Clone Site tool to copy one of your existing site’s settings to a new site (<code>YourSite &gt; Dashboard &gt; Clone Site</code>), or</li>
  <li>use an existing site.</li>
</ul>

    <p><a href="mailto:search@support.digitalgov.gov">Email us</a> and let us know which site you want enabled for i14y. Please note: once we turn on i14y for a site, we no longer serve search results from a commercial web index. Therefore, we recommend that you set up a test site for i14y, so that your customers will continue to get results until you are fully set up and ready to move your i14y index to your production search site.</p>

    <h3 id="step-2-add-a-drawer">Step 2. Add a Drawer</h3>

    <p>An i14y Drawer is an index receiving content via the i14y API. We’ve called them <strong>Drawers</strong> because, like drawers in a filing cabinet, multiple indexes can be included in a single configuration to scope the entirety of a site’s search.</p>

    <p>After we have enabled i14y for your search site, a new page will appear: <a href="https://search.usa.gov/sites/">Admin Center</a> &gt; YourSite &gt; Manage Content &gt; i14y Drawers.</p>

    <p>Click <code>Add i14y Drawer</code> in the upper right corner. Create a handle for your drawer - the handle must be all lowercase alphanumeric, all one word, and can include underscores but no other special characters (e.g., agency_drawer_handle2).</p>

    <p>The Drawer <em>Description</em> is optional.</p>

    <p>If you have more than one website or domain that will be sending content, add a separate Drawer for each of these sites. We also recommend setting up separate drawers for staging or test content, so you can easily remove that content from your search site when you are ready to go live.</p>

    <h3 id="step-3-fill-your-drawer">Step 3. Fill your Drawer</h3>

    <p>After you have created your Drawer(s), click <code>Show</code> from the i14y Drawers list to find that Drawer’s secret API key. Use this secret key with your drawer handle in your API call or your CMS module to send your content to the right place.</p>

    <p>You are now ready to add content to your drawer. You can do this in two ways:</p>

    <ul>
  <li>Use i14y directly. View our <a href="https://github.com/GSA/i14y">Github repo</a> <i class="icon-external-link"><span>(External link)</span></i> or <a href="/developer/indexing-api.html">Technical Documentation</a> for more information.</li>
  <li>Use a module plugged into your CMS. At this time there is a <a href="https://www.drupal.org/project/usasearch">Drupal module</a> <i class="icon-external-link"><span>(External link)</span></i> available. Help docs for the module are <a href="/manual/drupal.html">here</a>.</li>
  <li><strong>Important Note:</strong> i14y does not visit your content to do full-text scraping of your content. For new implementations, the Search.gov team recommends you index your content with us not using the i14y API, but rather by publishing a comprehensive xml sitemap, which we can use to index your content. <a href="/blog/six-months-in.html">Read more.</a></li>
</ul>

    <h3 id="step-4-review-your-index">Step 4. Review your index</h3>

    <p>You can view the number of documents indexed for each drawer on the main i14y Drawers list, and when the most recent document was received. Click <code>Show</code> to view documents within a particular drawer. We display the most recent 1,000 items that were sent to the drawer. You can also search for keywords in the documents’ text, titles, and descriptions (Note: you cannot currently search for URLs).</p>

    <p><strong>Note:</strong> We use the <a href="/manual/domains.html">Domains</a> section to scope search results - if the domain(s) of your i14y content are not listed in the Domains section, that content will not appear on your search results page.</p>

    <p>We send success and / or failure codes in response to your API call, so if the number of documents in our index doesn’t match what you sent, check those response codes.</p>

    <p>If you experience difficulty sending documents to i14y, it is possible your firewall is not letting you communicate with the i14y server. Check out our <a href="/developer/i14y-testing.html">cURL test commands</a> or view the full <a href="/developer/indexing-api.html">i14y documentation</a>.</p>

    <p>We can attach each i14y drawer to multiple search configurations: if you have a drawer that you’d like to use for multiple search sites, <a href="mailto:search@support.digitalgov.gov">email us</a>.</p>

    <p><strong><em>Caution:</em></strong> A pop-up message will appear when you hit <code>Remove</code> on a drawer: please review this pop-up message carefully. If you remove a drawer that is only associated with one search configuration, the drawer and its contents will be deleted from our system. If the drawer is attached to multiple search configurations, it will only be removed from the search configuration you are currently on. The pop-up message will indicate what type of drawer you have.</p>

    <p>If you accidentally delete a drawer, you will need to set-up a new drawer and resend the content - we are unable to retrieve deleted drawers. If you accidentally remove a shared drawer but it is still associated with other search configurations, we can re-attach it to your site. <a href="mailto:search@support.digitalgov.gov">Contact us</a> for assistance.</p>

    <h3 id="step-5-configure-your-search">Step 5. Configure your search</h3>

    <p>Once you have your index populated, you will <a href="/manual/content-overview.html">set up the rest of your search</a> as you would for a traditional Search.gov site:</p>
    <ul>
  <li>Set your default search scope on your <a href="/manual/domains.html">Domains</a> page. Use the <a href="/manual/filter-tags.html">Filter Tags</a> feature to further scope your search results.</li>
  <li>Add social media accounts: <a href="/manual/flickr.html">Flickr</a>, <a href="/manual/twitter.html">Twitter</a>, and <a href="/manual/youtube.html">YouTube</a></li>
  <li>Create <a href="/manual/collections.html">Collections</a> and <a href="/manual/best-bets.html">Best Bets</a></li>
  <li>Select your display settings (both <a href="/manual/display-overview.html">search features</a> and <a href="/manual/brand.html">branding</a>).</li>
</ul>

    <p>If you have any <a href="/manual/rss.html">RSS content</a> that will not be sent to your i14y drawer, you can add those feeds as well.</p>

    <h3 id="step-6-update-your-search-box">Step 6. Update your search box</h3>

    <p>Update your website’s search box <a href="/manual/code.html">form code</a> to point to <code>affiliate=youri14yenabledsitehandle</code>.</p>

    <h3 id="terms-of-use">Terms of Use</h3>

    <p>By accessing the i14y API, you agree to <a href="https://www.usa.gov/About/developer-resources/terms-of-service.shtml">USA.gov’s Terms of Service for Developer Resources</a>.</p>

    <hr />

    <p><strong><em>Did you know?</em></strong> i14y is hacker shorthand for “interoperability”, because there are 14 characters between the first and last letters. i14y can also be shorthand for Independence Day.</p>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/i14y"&gt;&lt;span class="label label-info"&gt;i14y&lt;/span&gt;&lt;/a&gt;
  
  &lt;a href="/tagged/api"&gt;&lt;span class="label label-info"&gt;api&lt;/span&gt;&lt;/a&gt;
  
  &lt;a href="/tagged/manage-content"&gt;&lt;span class="label label-info"&gt;manage-content&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  
  
  &lt;a href="/developer/i14y.html"&gt;
    &lt;time datetime="2018-04-12"&gt;April 12, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/developer/i14y-testing.html"&gt;cURL Commands for i14y Testing&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;blockquote&gt;
</code></pre>
    <p><strong>Important Note:</strong> April, 2018. i14y does not visit your content to do full-text scraping of your content. For new implementations, the Search.gov team recommends you index your content with us not using the i14y API, but rather by publishing a comprehensive xml sitemap, which we can use to index your content. <a href="/blog/six-months-in.html">Read more.</a></p>
    <p>&lt;/blockquote&gt;</p>

    <p>If you experience difficulty sending documents to our index via <a href="/developer/i14y.html">i14y</a>, it is possible your firewall is not letting you communicate with the i14y server. Adding a test document to your i14y drawer can help you diagnose a firewall issue.
Windows users may need to <a href="https://curl.haxx.se/download.html">install cURL</a> <i class="icon-external-link"><span>(External link)</span></i> in order to run this test from the command line.</p>

    <h2 id="adding-the-test-document">Adding the Test Document</h2>

    <p>From the command line, enter:</p>

    <pre><code>curl "https://i14y.usa.gov/api/v1/documents" -XPOST -H "Content-Type:application/json" -u your_drawer_handle:your_secret_token -d '{"document_id":"1", "title":"Test Document", "path": "http://www.gov.gov/cms/doc1.html", "created": "2015-05-12T22:35:09Z", "description":"The summary of the document goes here.", "content":"This is placeholder text, and in a real document would be paragraphs long.", "promote": false, "language" : "en", "tags" : "tag1, another tag"}'
</code></pre>

    <p>Note: you need to replace <strong>your_drawer_handle</strong> with your i14y drawer handle, found in the i14y drawers section in the Search Admin Center (<a href="/index.html">Search.gov Home</a> &gt; <a href="https://search.usa.gov/sites/">Admin Center</a> &gt; YourSite &gt; Manage Content &gt; i14y Drawers). You will also need to replace <strong>your_secret_token</strong> with the drawer’s secret token, which can be found by hitting “Show” in the 14y drawer list. The drawer handle and token should be separated by a colon (:) with no spaces on either side of the colon.</p>

    <p>The above command returns JSON structured like this:</p>

    <pre><code>{
"status":200,
"developer_message":"OK",
"user_message":"Your document was successfully created."
}
</code></pre>

    <p>If you do not see a 200 status, <a href="mailto:search@support.digitalgov.gov">contact our team</a>.</p>

    <p>After successfully sending a document, you should see an increase (by 1) in the number of documents in your <a href="/manual/i14y-drawers.html">i14y drawer</a>.</p>

    <h2 id="removing-the-test-document">Removing the Test Document</h2>

    <p>Once you have successfully added the test document to your drawer, you will need to delete it, or it will appear in your site’s search results.</p>

    <p>From the command line, enter:</p>

    <pre><code>curl "https://i14y.usa.gov/api/v1/documents/1" -XDELETE -u your_drawer_handle:your_secret_token
</code></pre>

    <p>The above command returns JSON structured like this:</p>

    <pre><code>{
"status":200,
"developer_message":"OK",
"user_message":"Your document was successfully deleted."
}
</code></pre>

    <hr />

    <p><strong><em>Resources:</em></strong> Read tips on <a href="/developer/i14y.html">Getting Started With i14y</a>, or view the full <a href="/developer/indexing-api.html">i14y technical documentation</a>.</p>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/i14y"&gt;&lt;span class="label label-info"&gt;i14y&lt;/span&gt;&lt;/a&gt;
  
  &lt;a href="/tagged/api"&gt;&lt;span class="label label-info"&gt;api&lt;/span&gt;&lt;/a&gt;
  
  &lt;a href="/tagged/manage-content"&gt;&lt;span class="label label-info"&gt;manage-content&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  
  
  &lt;a href="/developer/i14y-testing.html"&gt;
    &lt;time datetime="2018-04-12"&gt;April 12, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/manual/drupal.html"&gt;usasearch Drupal Module Help Documentation&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;blockquote&gt;
</code></pre>
    <p><strong>Important Note:</strong> April, 2018. For new implementations, the Search.gov team recommends you index your content with us not using our Drupal module to send content to our i14y indexing API, but rather by publishing a comprehensive XML sitemap, which we can use to index your content. We recommend the <a href="https://www.drupal.org/project/xmlsitemap">XML Sitemap module</a> <i class="icon-external-link"><span>(External link)</span></i>. <a href="/blog/six-months-in.html">Read more.</a></p>
    <p>&lt;/blockquote&gt;</p>

    <p>To use the Search.gov service on a Drupal-based website, you should install the <a href="https://www.drupal.org/project/xmlsitemap">XML Sitemap</a> <i class="icon-external-link"><span>(External link)</span></i> module, and may want to consider a tool like <a href="https://www.drupal.org/project/yoast_seo">Yoast SEO</a> <i class="icon-external-link"><span>(External link)</span></i> to pull in non-Drupal content as well. You may also be interested in our overview of <a href="/blog/sitemaps.html">XML sitemaps</a>.</p>

    <p>The <code>usasearch</code> <a href="https://drupal.org/project/usasearch">Drupal module</a> <i class="icon-external-link"><span>(External link)</span></i> can facilitate indexing content with our service, but we prefer the XML sitemap method.</p>

    <ul>
  <li>It is possible to manually modify the Drupal search box to connect to our service, but the module allows you to make the connection via a setting configuration, rather than code work.</li>
</ul>

    <h2 id="step-by-step-instructions-for-setting-up-the-module">Step by step instructions for setting up the module</h2>

    <ul>
  <li><a href="/manual/drupal-7-module-instructions.html">usasearch 7.x-5.x</a></li>
  <li><a href="/manual/drupal-8-module-instructions.html">usasearch 8.x-1.x</a></li>
</ul>

    <h2 id="troubleshooting-tips"><a href="/manual/drupal-module-troubleshooting.html">Troubleshooting tips</a></h2>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/i14y"&gt;&lt;span class="label label-info"&gt;i14y&lt;/span&gt;&lt;/a&gt;
  
  &lt;a href="/tagged/drupal"&gt;&lt;span class="label label-info"&gt;drupal&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  
  
  &lt;a href="/manual/drupal.html"&gt;
    &lt;time datetime="2018-04-12"&gt;April 12, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/manual/drupal-module-troubleshooting.html"&gt;Drupal Module Troubleshooting Tips&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;blockquote&gt;
</code></pre>
    <p><strong>Important Note:</strong> April, 2018. For new implementations, the Search.gov team recommends you index your content with us not using our Drupal module to send content to our i14y indexing API, but rather by publishing a comprehensive XML sitemap, which we can use to index your content. We recommend the <a href="https://www.drupal.org/project/xmlsitemap">XML Sitemap module</a> <i class="icon-external-link"><span>(External link)</span></i>. <a href="/blog/six-months-in.html">Read more.</a></p>
    <p>&lt;/blockquote&gt;</p>

    <p>If you have installed the <code>usasearch</code> <a href="https://drupal.org/project/usasearch">Drupal module</a> <i class="icon-external-link"><span>(External link)</span></i> to integrate your Drupal CMS with the Search.gov service but are having trouble, the following suggestions should help you identify where the problem is. If after working through these items you still have questions, <a href="mailto:search@support.digitalgov.gov">reach out to our team</a> and, though we’re not Drupal experts, we can try to help.</p>

    <p><a href="#search-errors">Skip to Search error troubleshooting tips</a></p>

    <h2 id="indexing-errors">Indexing errors</h2>

    <h3 id="do-you-have-the-right-module-for-your-drupal-version">Do you have the right module for your Drupal version?</h3>

    <p>We have modules for both Drupal 7 and Drupal 8. If your site is in Drupal 7, use <code>usasearch-7.x-5.7</code>. If your site is in Drupal 8, click <a href="https://www.drupal.org/project/usasearch/releases">View all Releases</a> <i class="icon-external-link"><span>(External link)</span></i> and select API version <code>8.x</code>.</p>

    <h3 id="have-you-set-up-an-i14y-drawer">Have you set up an i14y drawer?</h3>

    <p>In order to send content from Drupal to our system, you’ll need an index to send the content into. We call these indexes “Drawers”, because like drawers in a filing cabinet, all the items put into them will be the content you can search against. <a href="/manual/i14y-drawers.html">Read more about Drawers here</a>. In order to set up a drawer, your search site will need to be enabled for i14y, so <a href="mailto:search@support.digitalgov.gov">contact us</a> to request that.</p>

    <h3 id="has-any-content-actually-been-sent-to-us">Has any content actually been sent to us?</h3>

    <p>The module sends content when someone hits <code>save</code> on a node, or when you run <code>re-index site</code>. In Drupal 7, <code>re-index site</code> is found on the main Drupal search settings page (<code>YOUR-DRUPAL-SITE.gov/admin/config/search/settings</code>); in Drupal 8, you can re-index the site from the bottom of the module settings page.</p>

    <ul>
  <li>If these actions have indeed happened, check the Drupal recent log messages (<code>YOUR-DRUPAL-SITE.gov/admin/reports/dblog</code>) to see if there’s anything related to <code>usasearch</code>, and please <a href="mailto:search@support.digitalgov.gov">send us screenshots of the errors</a>.</li>
  <li>If these actions haven’t yet happened, please hit <code>save</code> on a node, and see if that item appears in your Drawer. You can view the contents of your Drawer by selecting <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Content &gt; i14y Drawers &gt; Show. If the item isn’t there, then check the Drupal log for an error.</li>
</ul>

    <h3 id="is-your-firewall-letting-you-communicate-with-us">Is your firewall letting you communicate with us?</h3>

    <p>If content isn’t reaching us, it could be that your firewall is not allowing you to reach i14y. Please run the following from the command line, from inside the same firewall as your web server, if possible. Note: you’ll need to customize the string below with your i14y drawer’s handle and secret token (where it says <code>YOURDRAWERHANDLE:YOURDRAWERSECRETTOKEN</code>):</p>

    <pre><code>curl "https://i14y.usa.gov/api/v1/documents" -XPOST -H "Content-Type:application/json" -u YOURDRAWERHANDLE:YOURDRAWERSECRETTOKEN -d '{"document_id":"1", "title":"test item", "created":"2017-02-16T10:19:02", "path":"https://www.usa.gov", "description":"This is a test", "content":"This is a test to see if the agency web server is able to communicate with the i14y API. If this document does not show up in the drawer in the admin center, then the i14y location may need to be whitelisted in order to facilitate indexing."}'
</code></pre>

    <ul>
  <li>
    <p>If you get a <code>403 Forbidden</code> response</p>

    <p>Please contact your security team to request the i14y hostname be whitelisted: <code>https://i14y.usa.gov/</code></p>

    <p>We can’t give you an IP to whitelist, as our system is hosted in AWS, and so i14y’s IP address changes regularly.</p>
  </li>
  <li>
    <p>If you get a <code>200 OK</code> response</p>

    <p>Your system is able to communicate with our system, so the issue must lie in how the module is working with your Drupal instance. <a href="mailto:search@support.digitalgov.gov">Send us</a> all the information and screenshots of errors that you can, and we’ll help you troubleshoot.</p>

    <p>Be sure you delete the test document or it will be included in your search results. You can delete it from the command line. Run this command:</p>

    <pre><code>curl "https://i14y.usa.gov/api/v1/documents/1" -XDELETE -u YOURDRAWERHANDLE:YOURDRAWERSECRETTOKEN
</code></pre>
  </li>
  <li>
    <p>If you get any other error response</p>

    <p>Please take a screenshot and <a href="mailto:search@support.digitalgov.gov">send it to us</a> to report the issue so we can investigate the error.</p>
  </li>
</ul>

    <h3 id="do-you-have-another-question">Do you have another question?</h3>

    <p>If you have another question about indexing with our service through the <code>usasearch</code> Drupal module, <a href="mailto:search@support.digitalgov.gov">don’t hesitate to ask</a>!</p>

    <p><a name="search-errors"></a></p>

    <h2 id="search-errors">Search errors</h2>

    <h3 id="is-your-drupal-site-search-box-showing-drupal-search-results">Is your Drupal site search box showing Drupal search results?</h3>

    <ul>
  <li>
    <p>If you have a <strong>Drupal 7</strong> site</p>

    <p>Our Drupal 7 module is designed to take over the native Drupal search box on your site, and direct queries to the site you specify in the <code>affiliate site handle</code> field. If you’re seeing other results - either the Drupal search results or a different search site in our system, find out if the search box form code had been manually modified to point to this other location. Our module will only work with out-of-the-box Drupal search boxes. If the search box form code was modified, you’ll need to manually point it to our service using the required parameters - you can see <a href="/manual/code.html">general information on form code here</a>, or you can view examples customized to your particular site within the Admin Center, under <code>Activate</code>. You may also be able to restore the form code to the Drupal default, to take advantage of the module’s site handle field and be able to modify the site handle without a dev.</p>
  </li>
  <li>
    <p>If you have a <strong>Drupal 8</strong> site</p>

    <p>In Drupal 8, we don’t override the native Drupal search box. Instead, you need to place a <code>USA Search Form</code> block, and disable the default Drupal search. To do this, go to <code>YOUR-DRUPAL-SITE.gov/admin/structure/block</code> in your Drupal site, and do <code>ctrl-F</code> to locate the word <code>Search</code> in the list. Disable the block that says just <code>Search</code>. Use <code>Place block</code> to insert a <code>USA Search Form</code> block in the block region of your choice. The search box in this block will point at the search site you entered in the module settings.</p>
  </li>
</ul>

    <h3 id="is-the-drupal-site-search-box-directing-to-the-wrong-searchgov-site">Is the Drupal site search box directing to the wrong Search.gov site?</h3>

    <p>Your search box should use the site handle you entered on the module settings page. If you run a search and are brought to our search results page, but see the wrong search site, check to see if the Drupal search box form code was manually modified to point to another search site handle (the <code>affiliate</code> parameter in the form code). If it was modified, you’ll need to change the site handle directly in that modified code. You may also be able to restore the form code to the Drupal default, to take advantage of the module’s site handle field and be able to modify the site handle without a developer.</p>

    <h3 id="do-you-have-another-question-1">Do you have another question?</h3>

    <p>If you have another question about searching through our service with the <code>usasearch</code> Drupal module, <a href="mailto:search@support.digitalgov.gov">don’t hesitate to ask</a>!</p>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/drupal,"&gt;&lt;span class="label label-info"&gt;drupal,&lt;/span&gt;&lt;/a&gt;
  
  &lt;a href="/tagged/i14y"&gt;&lt;span class="label label-info"&gt;i14y&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  
  
  &lt;a href="/manual/drupal-module-troubleshooting.html"&gt;
    &lt;time datetime="2018-04-12"&gt;April 12, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

  <article class="article">

    <pre><code>&lt;h1&gt;
  &lt;a href="/manual/drupal-8-module-instructions.html"&gt;Step by Step Instructions for Setting Up the Drupal 8 usasearch module&lt;/a&gt;
&lt;/h1&gt;


&lt;div class='post-content'&gt;
  &lt;blockquote&gt;
</code></pre>
    <p><strong>Important Note:</strong> April, 2018. For new implementations, the Search.gov team recommends you index your content with us not using our Drupal module to send content to our i14y indexing API, but rather by publishing a comprehensive XML sitemap, which we can use to index your content. We recommend the <a href="https://www.drupal.org/project/xmlsitemap">XML Sitemap module</a> <i class="icon-external-link"><span>(External link)</span></i>. <a href="/blog/six-months-in.html">Read more.</a></p>
    <p>&lt;/blockquote&gt;</p>

    <p>This documentation will walk you through setting up the <code>usasearch</code> <a href="https://www.drupal.org/project/usasearch/releases?api_version%5B%5D=7234">Drupal 8 module</a> <i class="icon-external-link"><span>(External link)</span></i> field by field, to integrate your Drupal CMS with the Search.gov service. If you have trouble, take a look at our <a href="/manual/drupal-module-troubleshooting.html">troubleshooting tips</a>.</p>

    <p>These instructions follow the order of settings listed in our Drupal module at <code>YOUR-DRUPAL-8-SITE.gov/admin/config/search/usasearch</code>.</p>

    <p>Instructions for setting up the <strong>Drupal 7</strong> module are <a href="/manual/drupal-7-module-instructions.html">here</a>.</p>

    <h2 id="search-settings">Search Settings</h2>

    <p>This section allows you to configure how the <code>USA Search Block</code> will use our service. In Drupal 8, you must place the <code>USA Search Block</code>, as we do not override the native Drupal Search. We recommend you disable the native Drupal Search block.</p>

    <h3 id="site-handle">Site handle</h3>

    <p>Required. Enter the site handle you gave your search site. This is found in our <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Dashboard &gt; Settings.</p>

    <h3 id="enable-autocomplete">Enable autocomplete</h3>

    <p>Recommended setting: Checked.</p>

    <p>Check this box if you want to enable the Javascript for our <a href="/developer/">Type-ahead API</a>. Suggestions for popular queries will appear below your search box as searchers begin typing. A query must have been run more than 10 times in a day for it to become a search suggestion.</p>

    <h3 id="search-domain">Search domain</h3>

    <p>We offer <a href="/manual/cname.html">domain masking</a>, which allows you to display <code>search.YOURAGENCY.gov</code> in the URL of your search results page, instead of the default <code>search.usa.gov</code>.</p>

    <p>NOTE: Only change this setting if you have domain masking configured for your search site! If you haven’t set it up, leave the default <code>https://search.usa.gov</code> until you’ve completed the masking steps.</p>

    <h2 id="connecting-drupal-to-our-system-for-direct-indexing">Connecting Drupal to Our System for Direct Indexing</h2>

    <p>Highly recommended! The “i14y API settings” section allows you to send content directly to our indexes via our i14y API. This means that you’ll have full control over the content of your search results, and your search index will be updated in real time. Note: If you do not want to index your content with us yourselves, do not complete this section. If you only want to use our system for search, skip this section and the following Indexing section.</p>

    <h3 id="enable-i14y-api">Enable i14y API</h3>

    <p>Recommended! If this box is checked, the module will send content to Search.gov for indexing. The <code>Drawer Handle</code> and <code>API Secret Token</code> fields will be required.</p>

    <h3 id="drawer-handle">Drawer Handle</h3>

    <p>Enter your i14y  “drawer handle”. This is the name you gave your drawer and is found in: <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Manage Content &gt; i14y Drawers.</p>

    <h3 id="i14y-api-secret-token">i14y API Secret Token</h3>

    <p>Enter your i14y drawer’s “secret token”. This can be found in our system in: <a href="https://search.usa.gov/sites">Search Admin Center</a> &gt; Your site &gt; Manage Content &gt; i14y Drawers, select the option, <code>Show</code>.</p>

    <h3 id="content-types">Content Types</h3>

    <p>Recommended setting (default): Checked - all types.</p>

    <p>Select which content types will be sent to our indexes. Content types unchecked here will <strong>not</strong> be indexed. You can also control indexing status of individual nodes in their Search.gov settings.</p>

    <p>If you exclude a content type from indexing, and later decide to <em>include</em> it, nodes of this type will be indexed on the next cron run. You may also want to review any nodes that were created in the interim, to ensure in their individual Search.gov settings that they are enabled for indexing.</p>

    <h3 id="description-view-mode">Description View Mode</h3>

    <p>Recommended setting: Teaser.</p>

    <p>Select the search result description text that works best for your site. Choose among the text you’ve set as your teaser, RSS item content, Drupal search index snippet, or full text. The view mode  will need to be enabled and configured for each content type. If the view mode is not available for a content type, “Teaser” will be used. The full text of your node will still be searchable.</p>

    <p>Note: If you don’t like the content that’s being sent to us as the Teaser, you can make changes for that content type’s at <code>YOUR-DRUPAL-8-SITE.gov/admin/structure/types/manage/[CONTENT TYPE] &gt; Display settings</code> or
<code>YOUR-DRUPAL-8-SITE.gov/admin/structure/types/manage/[CONTENT TYPE]/display/teaser</code></p>

    <h3 id="enable-i14y-logging">Enable i14y logging</h3>

    <p>Recommended setting (default): Checked.</p>

    <p>Check this box to log i14y API operations to the watchdog log. On <code>YOUR-DRUPAL-8-SITE.gov/admin/reports/dblog</code>, filter by Type <code>usasearch</code>.</p>

    <h3 id="alternate-indexing-domain">Alternate indexing domain</h3>

    <p>Do you edit your site on one domain or subdomain, but publish on another? If so, use this field to set the domain you want us to present for your content on the search results page. For instance, if you enter <code>www.YOURAGENCY.gov</code> here, nodes that are stored in Drupal under <code>edit.YOURAGENCY.gov</code> would be indexed with us as <code>www.YOURAGENCY.gov</code>.</p>

    <h2 id="indexing">Indexing</h2>

    <h3 id="re-index-site">Re-index site</h3>

    <p>If you click <code>re-index site</code>, we will begin a full-site reindexing on your next cron run. You can wait for cron to run, or you can run it manually.</p>

    <h3 id="number-of-items-to-index-per-cron-run">Number of items to index per cron run</h3>

    <p>Use this throttle to adjust the number of documents sent to us in each cron run. The number that is best for your site will depend on various factors, including your firewall.</p>

    <h2 id="save-configuration">Save configuration</h2>

    <p>After you save these settings, the module will send a command to us when you hit <code>Save</code> on a node in Drupal, either to add the node to the index, update it, or delete it from the index.</p>

    <h2 id="having-trouble">Having trouble?</h2>

    <p>Take a look at our <a href="/manual/drupal-module-troubleshooting.html">troubleshooting tips</a>, and don’t hesitate to <a href="mailto:search@support.digitalgov.gov">reach out</a>. We’re not Drupal experts ourselves, but we’ll try to help.</p>

    <pre><code>&lt;/div&gt;

&lt;div class='tags'&gt;
  
  &lt;a href="/tagged/drupal,"&gt;&lt;span class="label label-info"&gt;drupal,&lt;/span&gt;&lt;/a&gt;
  
  &lt;a href="/tagged/i14y"&gt;&lt;span class="label label-info"&gt;i14y&lt;/span&gt;&lt;/a&gt;
  
&lt;/div&gt;

&lt;div class='time'&gt;
  
  
  
  
  &lt;a href="/manual/drupal-8-module-instructions.html"&gt;
    &lt;time datetime="2018-04-12"&gt;April 12, 2018&lt;/time&gt;
  &lt;/a&gt;
&lt;/div&gt;
</code></pre>

  </article>

</div>

<ul class="pager">
  <li class="next">
    <a href="/blog/page2">Older &rarr;</a>
  </li>
</ul>
<!-- end /blog/index.md content -->

    </main>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p><a href="mailto:search@support.digitalgov.gov">Email us</a> or call us at 202-505-5315</p>
    <p> An Official Website of the U.S. Government <br />
      <a href="https://www.gsa.gov/portal/category/25729">Technology Transformation Service</a>, <a href="https://www.gsa.gov/portal/category/100000">U.S. General Services Administration</a>
    </p>
    <ul class="footer-links list-unstyled list-inline">
      <li><a href="https://www.usa.gov">USA.gov</a></li>
      <li class="muted">&bull;</li>
      <li><a href="/tos.html">Terms of Service</a></li>
      <li class="muted">&bull;</li>
      <li><a href="https://www.digitalgov.gov/about/policies/">Site Policies</a></li>
      <li class="muted">&bull;</li>
      <li><a href="/developer/">Developers</a></li>
    </ul>
  </div>
</footer>

<script type="text/javascript">
  //<![CDATA[
  var usasearch_config = { siteHandle:"usasearch" };

jQuery(document).ready(function() {
  $('.typeahead').typeahead({
      source: function (query, process) {
          return $.get('https://search.usa.gov/sayt?name=usasearch&q=' + query, function (data) {
              return process(data);
          });
      }, minLength: 2
  });
})


  // var script = document.createElement("script");
  // script.type = "text/javascript";
  // script.src = "https://search.usa.gov/javascripts/remote.loader.js";
  // document.getElementsByTagName("head")[0].appendChild(script);

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31302465-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  //]]>
</script>

<script async type="text/javascript" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=GSA" id="_fed_an_ua_tag"></script>


</body>
</html>
