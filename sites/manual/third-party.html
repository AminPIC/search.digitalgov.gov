<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>How to Add JavaScript for Your Third Party Web Services</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <link href="/bootstrap/css/bootstrap.css" rel="stylesheet">
  <link rel="stylesheet" href="/stylesheets/font-awesome.min.css">
  <!--[if IE 7]>
  <link rel="stylesheet" href="/stylesheets/font-awesome-ie7.min.css">
  <![endif]-->

  <style>
    body {
      padding-top: 60px;
    }
  </style>
  <!--<link href="../assets/css/bootstrap-responsive.css" rel="stylesheet">-->
  <link href="/stylesheets/custom.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
  <script src="/javascripts/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <!--  <link rel="apple-touch-icon-precomposed" sizes="144x144"
          href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114"
          href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72"
          href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
  <link rel="shortcut icon" href="https://9fddeb862c037f6d2190-f1564c64756a8cfee25b6b19953b1d23.ssl.cf2.rackcdn.com/favicon.ico">
  <link rel='alternate' type='application/atom+xml' title='usasearch.howto.gov Atom feed' href='/all.atom' />
</head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="/"><span class="usa">USA</span><span class="search">Search</span></a>
      <ul class="nav">
        <li><a href="/help-desk.html">How It Works</a></li>
        <li><a href="/customers.html">Our Customers</a></li>
      </ul>
      <ul class="nav">
        <li>
          <form class="form-search" accept-charset="UTF-8" action="http://search.howto.gov/search/news/" id="search-form" method="get">
            <input id="affiliate" name="affiliate" type="hidden" value="usasearch"/>
            <input type="hidden" name="channel" value="1745">
            <input type="hidden" name="sort_by" value="r">
            <div class="input-append">
              <label for="search-query" class="hide">Query</label>
              <input name="query" type="text" autocomplete="off"
                     class="usagov-search-autocomplete span search-query" id="search-query"/>
              <input type="submit" class="btn" id="search-button" value="Search" />
            </div>
          </form>
        </li>
      </ul>
      <ul class="nav login">
        <li>
          <a href="https://search.usa.gov/sites"><i
              class="icon-user icon-white"></i>&nbsp;Login</a>
        </li>
      </ul>
    </div>
  </div>
</div>


<div class="container">
  <div id="main-container"><article class="article">
  <div class='time'>
    
    <span>Last updated on:</span>
    
    <a href="/sites/manual/third-party.html">
      <time>August 28, 2013</time>
    </a>
  </div>

  
  <h1>
    <a href="/sites/manual/third-party.html">How to Add JavaScript for Your Third Party Web Services</a>
  </h1>
  

  <div class='post-content'>
    <p><a href="http://usasearch.howto.gov">USASearch</a> > <a href="https://search.usa.gov/sites">Admin Center</a> > YourSite > Analytics > 3rd Party Tracking</p>

<p>Do you want your search results page to run web services such as 4Q, AddThis, Foresee, Google Analytics, Omniture, Siteimprove, or WebTrends?</p>

<p>Input the JavaScript code you'd like to call from your search results page. Click submit to send us your request. We'll input your code for you and send you an email to confirm that we've done it.</p>

<p>Some tips for commonly used third party web services follow.</p>

<h2>Google Analytics Tip</h2>

<p>In your Google Analytics JavaScript, be sure to set your domain if you've requested <a href="/sites/manual/cname.html">domain masking</a> and you want to include your search subdomain (e.g., search.commerce.gov) with your main domain (e.g., commerce.gov).</p>

<pre><code>_gaq.push(['_setDomainName', 'commerce.gov']);
</code></pre>

<p>For more information, read Google's tip, <a href="https://developers.google.com/analytics/devguides/collection/gajs/gaTrackingSite">Tracking Multiple Domains</a>.</p>

<p>The code you submit should look something like one of the following two scripts.</p>

<h3>Google Analytics Code (Older Format)</h3>

<pre><code> &lt;script type="text/javascript"&gt;
 var _gaq = _gaq || []; 
 _gaq.push(['_setAccount', 'UA-########-1']); 
 _gaq.push(['_trackPageview']);

 (function() { 
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; 
 ga.src = ('https:' == document.location.protocol ? 'https://ssl'; : 'http://www') +      '.google-analytics.com/ga.js'; 
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); 
 })();

 &lt;/script&gt;
</code></pre>

<h3>Google Analytics Code (Newer Format)</h3>

<pre><code>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
</code></pre>

<h2>Digital Analytics Program Tip</h2>

<p>Does your federal agency participate in the <a href="http://www.howto.gov/web-content/digital-metrics/digital-analytics-program">Digital Analytics Program</a> (DAP)?</p>

<p>You don't need to upload the full DAP Google Analytics code. You can simply say something like, "Add DAP code."</p>

<h2>ForeSee Tip</h2>

<p>Coordinate with your ForeSee representative and USASearch to implement your customer satisfaction survey on your results page. The four general steps follow.</p>

<ol>
<li><p>Email us at <a href="&#x6d;&#x61;&#x69;&#108;&#116;&#111;&#x3a;&#x55;&#x53;&#x41;&#x53;&#x65;&#x61;&#114;&#x63;&#x68;&#x40;&#103;&#x73;&#x61;&#46;&#103;&#111;&#118;">&#x55;&#x53;&#x41;&#x53;&#x65;&#x61;&#114;&#99;&#x68;&#x40;&#103;&#x73;&#97;&#46;&#x67;&#x6f;&#x76;</a> to <a href="/sites/manual/cname.html">set up a CNAME</a> for search.{yourdomain}.gov.</p></li>
<li><p>Update the files path in your Foresee code to use an absolute path instead of a relative path.</p>

<p> Find => 'files': '/fsrscripts/',</p>

<p> and replace it with => 'files': '//{yourdomain}/fsrscripts/',</p>

<p> in the following five files.</p>

<ul>
<li>foresee-trigger.js</li>
<li>foresee-tracker.js</li>
<li>foresee-alive.js</li>
<li>foresee-qualifier.js</li>
<li>foresee-test.js</li>
</ul>
</li>
<li><p>Ask ForeSee to send USASearch your foresee-trigger.js file.</p></li>
<li><p>USASearch will send you an email to confirm that we've set up your CNAME and installed your foresee-trigger.js file.</p></li>
</ol>


<p>It should look something like the following.</p>

<pre><code> &lt;script type="text/javascript" src="http://www.YourAgency.gov/library/foresee/foresee-trigger.js"&gt;&lt;/script&gt;
</code></pre>

  </div>

  <div class='tags'>
    
    <a href="/tagged/how-to"><span class="label label-info">how-to</span></a>
    
    <a href="/tagged/analytics"><span class="label label-info">analytics</span></a>
    
    <a href="/tagged/third-party"><span class="label label-info">third-party</span></a>
    
    <a href="/tagged/google-analytics"><span class="label label-info">google-analytics</span></a>
    
    <a href="/tagged/foresee"><span class="label label-info">foresee</span></a>
    
    <a href="/tagged/DAP"><span class="label label-info">DAP</span></a>
    
  </div>
</article></div>
</div>

<footer class="footer">
  <div class="container">
    <ul class="footer-links unstyled inline">
      <li><a href="/developer/index.html">APIs</a></li>
      <li class="muted">&bull;</li>
      <li><i class="icon-twitter"></i>&nbsp;<a href="http://www.twitter.com/usasearch">@USASearch</a></li>
      <li class="muted">&bull;</li>
      <li><i class="icon-envelope"></i>&nbsp;<a href="mailto:usasearch@gsa.gov">USASearch@gsa.gov</a></li>
      <li class="muted">&bull;</li>
      <li><i class="icon-phone"></i>&nbsp;202-505-5315</li>
      <li class="muted">&bull;</li>
      <li><a href="/tos.html">Terms of Service</a></li>      
    </ul>
    <p> An Official Website of the U.S. Government <br />
      Sponsored by GSA's <a href="http://www.gsa.gov/portal/category/25729">Office of Citizen
      Services &amp; Innovative Technologies</a>
    </p>
    <ul class="footer-links unstyled inline">
      <li>
        <a href="http://www.gsa.gov">
          <img src="http://c566677.r77.cf2.rackcdn.com/logo_footer_gsa.png"
               alt="GSA.gov logo" id="gsa-logo"></a>
      </li>
      <li>
        <a href="http://www.howto.gov">
        <img src="https://9fddeb862c037f6d2190-f1564c64756a8cfee25b6b19953b1d23.ssl.cf2.rackcdn.com/footer_htlogo.png"
             alt="HowTo.gov logo" id="howto-logo"></a>
      </li>
      <li>
        <a href="http://www.usa.gov">
          <img src="http://c566677.r77.cf2.rackcdn.com/logo_footer_usaGov.png"
               alt="USA.gov logo" id="usagov-logo"></a>
      </li>
    </ul>
  </div>
</footer>

<script type="text/javascript">
  //<![CDATA[
  var usasearch_config = { siteHandle:"usasearch" };

  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src = "http://search.usa.gov/javascripts/remote.loader.js";
  document.getElementsByTagName("head")[0].appendChild(script);

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31302465-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  //]]>
</script>


</body>
</html>
